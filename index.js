import{a as b,S as v,i as n}from"./assets/vendor-DqB7j7Ix.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(e){if(e.ep)return;e.ep=!0;const r=a(e);fetch(e.href,r)}})();const q="50766153-5ae10d1890b4c2498d85a8209",P="https://pixabay.com/api/";async function h(t,o=1){const a={key:q,q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:o};return(await b.get(P,{params:a})).data}const m=document.querySelector(".gallery"),g=document.querySelector(".loader"),y=document.querySelector(".load-more"),B=new v(".gallery a",{captionsData:"alt",captionDelay:250});function p(t){const o=t.map(({webformatURL:a,largeImageURL:i,tags:e})=>`
    <a href="${i}" class="gallery-item">
      <img src="${a}" alt="${e}" loading="lazy" />
    </a>
  `).join("");m.insertAdjacentHTML("beforeend",o),B.refresh()}function M(){m.innerHTML=""}function L(){g.classList.remove("hidden")}function w(){g.classList.add("hidden")}function S(){y.classList.remove("hidden")}function l(){y.classList.add("hidden")}const f=document.querySelector("#search-form");document.querySelector(".gallery");const R=document.querySelector(".load-more");let d="",s=1,u=0;const O=15;f.addEventListener("submit",async t=>{t.preventDefault();const o=f.elements.searchQuery.value.trim();if(o===""){n.warning({message:"Please enter a search term.",position:"topRight"});return}d=o,s=1,M(),l(),L();try{const a=await h(d,s);if(a.hits.length===0){n.info({message:"No images found. Try another keyword.",position:"topRight"});return}p(a.hits),u=Math.ceil(a.totalHits/O),s<u?S():n.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight"})}catch{n.error({message:"Something went wrong. Please try again later.",position:"topRight"})}finally{w()}});R.addEventListener("click",async()=>{s+=1,l(),L();try{const t=await h(d,s);p(t.hits),E(),s>=u?(l(),n.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight"})):S()}catch{n.error({message:"Failed to load more images.",position:"topRight"})}finally{w()}});function E(){const t=document.querySelector(".gallery a");if(t){const o=t.getBoundingClientRect().height;window.scrollBy({top:o*2,behavior:"smooth"})}}
//# sourceMappingURL=index.js.map
